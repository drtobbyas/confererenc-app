(this["webpackJsonpcreate-react-app"]=this["webpackJsonpcreate-react-app"]||[]).push([[0],{114:function(e,a,t){e.exports=t(147)},147:function(e,a,t){"use strict";t.r(a);var n=t(0),r=t.n(n),l=t(11),c=t.n(l),o=t(197),s=t(183),i=t(100),u=t(102),d=t(195),m=t(196),p=t(59),b=t(22),f=t.n(b),g=t(12),h=t(13),E=t(10),j=t(185),v=t(152),O=t(204),k=t(186),C=t(187),x=t(188),N=t(205),w=(t(144),t(39)),y=Object(i.a)((function(e){return{list:Object(E.a)({margin:e.spacing(1),minWidth:200,width:300},e.breakpoints.up("sm"),{width:"50%"}),expansionPanel:{width:"100%",minWidth:200},formControl:{margin:e.spacing(1),minWidth:100,width:"100%"}}})),D=function(e){var a=y(),t=Object(n.useState)({talks:[]}),l=Object(h.a)(t,2),c=l[0],o=l[1];return Object(n.useEffect)((function(){!function(){var e,a;f.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,f.a.awrap(fetch("".concat(w.REACT_API_URL,"/api/talks/getTalks")));case 3:return e=t.sent,t.next=6,f.a.awrap(e.json());case 6:if(!(a=t.sent).statusCode||200!==a.statusCode){t.next=9;break}return t.abrupt("return",o(Object(g.a)({},c,{talks:a.data})));case 9:return t.abrupt("return",o(Object(g.a)({},c,{talks:[]})));case 12:return t.prev=12,t.t0=t.catch(0),console.log("unable to fetch data: error: ".concat(t.t0)),t.abrupt("return",o(Object(g.a)({},c,{talks:[]})));case 16:case"end":return t.stop()}}),null,null,[[0,12]])}()}),[]),r.a.createElement(j.a,{className:a.list},c.talks.map((function(e){return r.a.createElement(v.a,{key:e._id},r.a.createElement(O.a,{className:a.expansionPanel},r.a.createElement(k.a,{expandIcon:r.a.createElement(N.a,null),"aria-controls":"panel1a-content",id:"panel1a-header"},r.a.createElement(C.a,{className:a.heading},e.title)),r.a.createElement(x.a,null,r.a.createElement(C.a,null,e.description))))})))},T=t(103),A=t(198),R=t(184),_=t(199),P=t(194),S=t(203),L=t(190),q=t(202),I=t(180),U=Object(i.a)((function(e){return{formControl:Object(E.a)({margin:e.spacing(1),minWidth:100,width:"100%"},e.breakpoints.up("sm"),{width:"50%"})}})),W=function(){var e=U(),a=Object(n.useState)({open:!1,message:"",talkData:{}}),t=Object(h.a)(a,2),l=t[0],c=t[1],o=function(e){return function(a){a.preventDefault(),c(Object(g.a)({},l,{talkData:Object(g.a)({},l.talkData,Object(E.a)({},e,a.target.value))}))}};return r.a.createElement(A.a,{className:e.root},r.a.createElement(S.a,{anchorOrigin:{vertical:"bottom",horizontal:"left"},open:l.open,autoHideDuration:6e3,message:l.message,onClose:function(){c(Object(g.a)({},l,{open:!1}))}}),r.a.createElement("form",{onSubmit:function(e){var a,t,n;return f.a.async((function(r){for(;;)switch(r.prev=r.next){case 0:return e.preventDefault(),r.prev=1,a=JSON.stringify(l.talkData),console.log(a),r.next=6,f.a.awrap(fetch("".concat(w.REACT_API_URL,"/api/talks/addTalk"),{headers:{accept:"application/json, text/plain, */*","Content-Type":"application/json"},method:"POST",body:a}));case 6:return t=r.sent,r.next=9,f.a.awrap(t.json());case 9:if(n=r.sent,console.log(n),!n.statusCode||200!==n.statusCode){r.next=13;break}return r.abrupt("return",c(Object(g.a)({},l,{open:!0,message:"talk added"})));case 13:return console.log(n),r.abrupt("return",c(Object(g.a)({},l,{open:!0,message:"error adding talk"})));case 17:r.prev=17,r.t0=r.catch(1),console.log("error adding talk, error: ".concat(r.t0)),c(Object(g.a)({},l,{open:!0,message:"unable to add talk"}));case 21:case"end":return r.stop()}}),null,null,[[1,17]])}}," ",r.a.createElement(L.a,{className:e.formControl},r.a.createElement(q.a,{id:"title",label:"title",placeholder:"Talk Title",variant:"outlined",onChange:o("title"),required:!0})," "),r.a.createElement(L.a,{className:e.formControl},r.a.createElement(q.a,{rowsMax:4,"aria-label":"Description",placeholder:"Description",onChange:o("description")})),r.a.createElement(L.a,{className:e.formControl},r.a.createElement(q.a,{id:"host",label:"host",placeholder:"Talk host",variant:"outlined",onChange:o("host")})," "),r.a.createElement(L.a,{className:e.formControl},r.a.createElement(q.a,{id:"address",label:"address",placeholder:"location of the Talk",variant:"outlined",onChange:o("address"),required:!0})),r.a.createElement(L.a,{className:e.formControl},r.a.createElement(q.a,{id:"start time",label:"start time",placeholder:"2018-11-28",variant:"outlined",onChange:o("startsAt"),required:!0})," "),r.a.createElement(L.a,{className:e.formControl},r.a.createElement(q.a,{id:"closing time",label:"closing time",placeholder:"2018-11-28",variant:"outlined",onChange:o("endsAt"),required:!0})," "),r.a.createElement(L.a,{className:e.formControl},r.a.createElement(I.a,{variant:"contained",color:"secondary",className:e.button,type:"submit"},"Create Talk"))))},J=t(200),z=t(193),G=Object(i.a)((function(e){return{formControl:Object(E.a)({margin:e.spacing(1),minWidth:100,width:"100%"},e.breakpoints.up("sm"),{width:"50%"})}})),H=function(){var e=G(),a=Object(n.useState)({open:!1,message:"",attendeeData:{attending:""},talks:[]}),t=Object(h.a)(a,2),l=t[0],c=t[1];Object(n.useEffect)((function(){!function(){var e,a;f.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,f.a.awrap(fetch("".concat(w.REACT_API_URL,"/api/talks/getTalks")));case 3:return e=t.sent,t.next=6,f.a.awrap(e.json());case 6:if(!(a=t.sent).statusCode||200!==a.statusCode){t.next=9;break}return t.abrupt("return",c(Object(g.a)({},l,{talks:a.data})));case 9:return t.abrupt("return",c(Object(g.a)({},l,{talks:[]})));case 12:return t.prev=12,t.t0=t.catch(0),console.log("unable to fetch data: error: ".concat(t.t0)),t.abrupt("return",c(Object(g.a)({},l,{talks:[]})));case 16:case"end":return t.stop()}}),null,null,[[0,12]])}()}),[]);var o=function(e){return function(a){a.preventDefault(),c(Object(g.a)({},l,{attendeeData:Object(g.a)({},l.attendeeData,Object(E.a)({},e,a.target.value))}))}};return r.a.createElement(A.a,{className:e.root},r.a.createElement(S.a,{anchorOrigin:{vertical:"bottom",horizontal:"left"},open:l.open,autoHideDuration:6e3,message:l.message,onClose:function(){c(Object(g.a)({},l,{open:!1}))}}),r.a.createElement("form",{onSubmit:function(e){var a,t,n;return f.a.async((function(r){for(;;)switch(r.prev=r.next){case 0:return e.preventDefault(),r.prev=1,a=JSON.stringify(l.attendeeData),console.log(a),r.next=6,f.a.awrap(fetch("".concat(w.REACT_API_URL,"/api/attendees/addAttendee"),{headers:{accept:"application/json, text/plain, */*","Content-Type":"application/json"},method:"POST",body:a}));case 6:return t=r.sent,r.next=9,f.a.awrap(t.json());case 9:if(n=r.sent,console.log(n),!n.statusCode||200!==n.statusCode){r.next=13;break}return r.abrupt("return",c(Object(g.a)({},l,{open:!0,message:"talk added"})));case 13:return console.log(n),r.abrupt("return",c(Object(g.a)({},l,{open:!0,message:"error adding attendee"})));case 17:r.prev=17,r.t0=r.catch(1),console.log("error adding attendee, error: ".concat(r.t0)),c(Object(g.a)({},l,{open:!0,message:"unable to add attendee"}));case 21:case"end":return r.stop()}}),null,null,[[1,17]])}},r.a.createElement(L.a,{className:e.formControl},r.a.createElement(q.a,{id:"first-name",label:"first-name",placeholder:"First Name",variant:"outlined",onChange:o("firstName"),required:!0})," "),r.a.createElement(L.a,{className:e.formControl},r.a.createElement(q.a,{id:"last-name",label:"last-name",placeholder:"Last Name",variant:"outlined",onChange:o("lastName"),required:!0})," "),r.a.createElement(L.a,{className:e.formControl},r.a.createElement(q.a,{id:"email",label:"email",placeholder:"Your Email",variant:"outlined",onChange:o("email"),required:!0})," "),r.a.createElement(L.a,{className:e.formControl},r.a.createElement(J.a,{id:"attending",value:l.attendeeData.attending[0],onChange:function(e){e.preventDefault(),c(Object(g.a)({},l,{attendeeData:Object(g.a)({},l.attendeeData,{attending:[e.target.value]})}))},defaultValue:"select a talk to attend"},l.talks.map((function(e){return r.a.createElement(z.a,{key:e._id,value:e._id},e.title)})))),r.a.createElement(L.a,{className:e.formControl},r.a.createElement(I.a,{variant:"contained",color:"secondary",className:e.button,type:"submit"},"Add Attendee"))))};function M(e){var a=e.children,t=e.value,n=e.index,l=Object(T.a)(e,["children","value","index"]);return r.a.createElement(C.a,Object.assign({component:"div",role:"tabpanel",hidden:t!==n,id:"simple-tabpanel-".concat(n),"aria-labelledby":"simple-tab-".concat(n)},l),t===n&&r.a.createElement(A.a,{p:3},a))}var B=Object(i.a)((function(e){var a;return a={root:{flexGrow:1,backgroundColor:e.palette.background.paper,justifyContent:"center"}},Object(E.a)(a,"root",{padding:20}),Object(E.a)(a,"box",{width:"100%",display:"flex",flexDirection:"row",justifyContent:"center",marginLeft:20,marginRight:20}),Object(E.a)(a,"button",{marginRight:30}),a}));function F(){var e=B(),a=r.a.useState(0),t=Object(h.a)(a,2),n=t[0],l=t[1];return r.a.createElement(R.a,{className:e.root},r.a.createElement(A.a,null,r.a.createElement(_.a,{value:n,onChange:function(e,a){l(a)},"aria-label":"simple tabs example"},r.a.createElement(P.a,{label:"Talks",id:"talk"}),r.a.createElement(P.a,{label:"Add Talk",id:"add-talk"}),r.a.createElement(P.a,{label:"Add Attendee",id:"add-attendee"})),r.a.createElement(M,{value:n,index:0},r.a.createElement(D,null)),r.a.createElement(M,{value:n,index:1},r.a.createElement(W,null)),r.a.createElement(M,{value:n,index:2},r.a.createElement(H,null))))}var V=Object(i.a)((function(e){return{header:{background:e.palette.primary.main,color:"#f3f3f3"}}})),Y=(Object(u.a)(),function(){var e=V();return r.a.createElement(p.d,null,r.a.createElement(p.c,{className:e.header},r.a.createElement(d.a,null,"Let's Talk Conference")),r.a.createElement(p.a,null,r.a.createElement(m.a,{container:!0,className:e.root,spacing:2},r.a.createElement(m.a,{item:!0,xs:12},r.a.createElement(F,null)))),r.a.createElement(p.b,null,"Powered by drtob"))}),K=t(79),Q=Object(u.a)({palette:{primary:{main:"#f64c59"},secondary:{main:"#19857b"},error:{main:K.a.A400},background:{default:"#fff"}}});c.a.render(r.a.createElement(s.a,{theme:Q},r.a.createElement(o.a,null),r.a.createElement(Y,null)),document.querySelector("#root"))},39:function(e,a,t){t(145);e.exports={PORT:4e3,MONGODB_URL:"mongodb+srv://drtob:1234drtob@!1234@cluster0-knnbd.gcp.mongodb.net/conference?retryWrites=true&w=majority",REACT_API_URL:""}}},[[114,1,2]]]);
//# sourceMappingURL=main.f86e5eed.chunk.js.map